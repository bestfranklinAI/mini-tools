@import './designTokens.css';

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--text); transition: background-color 180ms ease, color 180ms ease; }

.app-shell {
  display: grid;
  grid-template-rows: auto 1fr auto;
  height: 100%;
}

.topbar {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 16px; border-bottom: 1px solid var(--border); background: var(--bg-elev);
  position: sticky; top: 0; z-index: 10; backdrop-filter: saturate(120%) blur(8px);
}

.search-input { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid var(--border); background: var(--bg-elev); color: var(--text); outline: none; transition: background-color 160ms ease, border-color 160ms ease, box-shadow 160ms ease; }
.search-input::placeholder { color: var(--muted); }
.search-input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 30%, transparent); }
.search-item:hover { background: color-mix(in oklab, var(--accent) 10%, transparent); }

.content {
  padding: 16px; height: calc(100% - var(--dock-height)); overflow: auto;
}

.tool-stage {
  max-width: 1100px; margin: 0 auto; background: var(--bg-elev); border: 1px solid var(--border);
  border-radius: var(--radius); min-height: 420px; box-shadow: 0 10px 30px var(--shadow);
  overflow: hidden;
}

.dock-wrap { position: fixed; left: 0; right: 0; bottom: 0; padding: 14px 0 22px; backdrop-filter: saturate(120%) blur(10px); background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.25)); pointer-events: none; }
.dock { pointer-events: auto; display: flex; gap: 12px; justify-content: center; align-items: flex-end; }
.dock-item { border-radius: 14px; border: 1px solid var(--border); background: var(--bg-elev); padding: 8px; cursor: pointer; display: grid; place-items: center; box-shadow: 0 4px 16px var(--shadow); transition: transform 120ms ease, box-shadow 160ms ease, border-color 160ms ease, background-color 160ms ease; position: relative; will-change: transform; transform-origin: bottom center; }
.dock-item.active { border-color: var(--accent); box-shadow: 0 8px 24px var(--shadow); }
.dock-item:active { transform: translateY(-2px) scale(0.98); }
.dock-indicator { position: absolute; bottom: 6px; width: 7px; height: 7px; border-radius: 50%; background: var(--accent); filter: drop-shadow(0 0 6px var(--shadow)); }
.dock-item.bounce { animation: dock-bounce 380ms ease-out; }
@keyframes dock-bounce { 0% { transform: translateY(0) } 30% { transform: translateY(-12px) } 60% { transform: translateY(2px) } 100% { transform: translateY(0) } }

/* Responsive tools container */
@media (max-width: 700px) {
  .content { padding: 10px; }
  .tool-stage { border-radius: 10px; }
}

.btn {
  background: var(--bg-elev); color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 8px 12px;
  transition: background-color 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
}

.btn.toggle { cursor: pointer; }
.btn:hover { border-color: var(--accent); box-shadow: 0 2px 10px var(--shadow); }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 30%, transparent); }

.fade-enter { opacity: 0.01; transform: translateY(6px); }
.fade-enter-active { opacity: 1; transform: translateY(0); transition: opacity 180ms ease, transform 180ms ease; }
.fade-exit { opacity: 1; }
.fade-exit-active { opacity: 0.01; transition: opacity 150ms ease; }

.muted { color: var(--muted); }
